<Window xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:oxy="http://oxyplot.org/wpf"
        x:Class="Visualizer.MainWindow"
        Title="CamAPS Visualizer" Height="600" Width="900">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="150"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
    
        <!-- Diagram selection area (fixed width 150, full height) -->
        <Border Grid.Column="0" Background="#FFF0F0F0" Padding="8">
            <DockPanel LastChildFill="True" VerticalAlignment="Stretch">
                <StackPanel DockPanel.Dock="Top">
                    <TextBlock Text="Diagrams" FontWeight="Bold" Margin="0,0,0,8"/>

                    <!-- Three buttons, one for each diagram -->
                    <StackPanel Orientation="Vertical" HorizontalAlignment="Stretch">
                        <Button x:Name="GlucoseButton" Content="Glucose Points" Click="GlucoseButton_Click" Margin="0,0,0,4" />
                        <Button x:Name="InfusionsButton" Content="Insulin Infusions" Click="InfusionsButton_Click" Margin="0,0,0,4" />
                        <Button x:Name="BoliButton" Content="Insulin Boli" Click="BoliButton_Click" />
                    </StackPanel>

                    <StackPanel Margin="0,12,0,0">
                        <Button x:Name="ReloadButton" Content="Reload data" Click="ReloadButton_Click" />
                    </StackPanel>
                </StackPanel>

                <!-- Status area docked to bottom so it always exists for code-behind -->
                <TextBlock x:Name="StatusText"
                           DockPanel.Dock="Bottom"
                           Text="Ready"
                           Margin="0,12,0,0"
                           TextWrapping="Wrap" />
            </DockPanel>
        </Border>

        <!-- Diagram display area (scalable) -->
        <Border Grid.Column="1" Background="White" Padding="8">
            <oxy:PlotView x:Name="PlotView" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>
        </Border>
    </Grid>
</Window>
